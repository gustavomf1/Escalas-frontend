<div class="container mat-elevation-z8">
    <h1 class="full-width">Atualizando a Escala</h1>
    <img class="full-width" src="assets/img/chamado-create.svg" alt="image">

    <form class="form">
        <mat-form-field class="full-width" appearance="outline">
            <mat-label>Titulo</mat-label>
            <input [(ngModel)]="escala.titulo" name="titulo" matInput [formControl]="titulo" placeholder="Ex. Transporte">
        </mat-form-field>

        <mat-form-field class="full-width" appearance="outline">
            <mat-label>Data</mat-label>
            <input [(ngModel)]="escala.data" name="data" matInput [matDatepicker]="picker" [formControl]="data" placeholder="dd/MM/yyyy">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
            <mat-error *ngIf="data.invalid && (data.dirty || data.touched)">
                A data é obrigatória.
            </mat-error>
        </mat-form-field>

        <div class="selecao">
            <mat-form-field appearance="outline">
                <mat-label>Selecione uma equipe</mat-label>
                <mat-select [(ngModel)]="escala.equipe" name="equipe" [formControl]="equipe">
                    <mat-option *ngFor="let equipe of equipes" [value]="equipe.id">{{ equipe.nome }}</mat-option>
                </mat-select>
            </mat-form-field>

            <mat-form-field appearance="outline">
                <mat-label>Pessoas Extras</mat-label>
                <mat-select [(ngModel)]="escala.pessoasExtrasIds" name="pessoasExtrasIds" [formControl]="pessoasExtrasIds" multiple>
                    <mat-option *ngFor="let pessoa of pessoas" [value]="pessoa.id">{{ pessoa.nome }}</mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        
        <mat-form-field class="full-width" appearance="outline">
            <mat-label>Descrição</mat-label>
            <textarea class="descricao" [(ngModel)]="escala.descricao" name="descricao" matInput [formControl]="descricao" placeholder="Ex. Entregar preso na unidade..."></textarea>
        </mat-form-field>

        <button (click)="update()" class="full-width mat-elevation-z8" mat-raised-button color="primary" [disabled]="!validaCampos()">Atualizar</button>
        <button routerLink="../" class="full-width mat-elevation-z8" mat-stroked-button color="primary">Cancelar</button>
    </form>
</div>
